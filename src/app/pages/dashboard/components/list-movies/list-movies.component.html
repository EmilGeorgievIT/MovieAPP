<app-intro-banner 
    [image]="'/assets/images/dashboard-banner.jpg'"
    [content]="'Welcome to your movie library !'">
</app-intro-banner>

<section class="section-list-movies">
    <div class="container">
        <div class="section__head">
            <h1 class="section__title">
                <strong>
                    My Movies
                </strong>
            </h1>
        </div>
        
        <div class="section__body">
            <ng-container *ngIf="listMovies.length && !isLoading; else noMovies">
                <div routerLink="/dashboard/movie-preview/{{movie.id}}" *ngFor="let movie of listMovies" class="movie">
                    <div class="movie__aside">
                        <img class="movie__image" [src]="movie.photo" alt="movie-image">
                    </div>
    
                    <div class="movie__content">
                        <h3>
                            <strong>
                                {{ movie.name }} {{ movie.year }}
                            </strong>
                        </h3>
    
                        <ul class="list-movie-details">
                            <li>
                                <p>
                                    <strong>
                                        Country:
                                    </strong>
                                    {{ movie.country }}
                                </p>
                            </li>
                            
                            <li>
                                <p>
                                    <strong>
                                        Category:
                                    </strong>
                                    {{ movie.category }}
                                </p>
                            </li>
                            
                            <li>
                                <p>
                                    <strong>
                                     Release date:
                                    </strong>
                                    {{ movie.releaseDate }}
                                </p>
                            </li>
    
                            <li>
                                <p>
                                    <strong>
                                     Director:
                                    </strong>
                                    {{ movie.director }}
                                </p>
                            </li>
    
                            <li>
                                <p>
                                    <strong>
                                     Box office:
                                    </strong>
                                    {{ movie.boxoffice | currency }}
                                </p>
                            </li>
                        </ul>
    
                        <div class="movie__rating">
                            <ul class="list-stars">
                                <li *ngFor="let item of [].constructor(+movie.rank)">
                                    <mat-icon>star</mat-icon>
                                </li>
                            </ul>
                            
                            <div class="movie__rate">
                                <span>
                                    {{ movie.rank | number:'1.1-3' }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
            
            <ng-template #noMovies>
                <h2>
                    Your current movie library is empty, please go to this URL to add a movie ! 
                </h2>

                <button routerLink="/dashboard/add-movie" mat-raised-button color="primary">
                   Add movie 
                </button>
            </ng-template>
        </div>
    </div>
</section>